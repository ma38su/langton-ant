(this["webpackJsonplongton-ant"]=this["webpackJsonplongton-ant"]||[]).push([[0],{13:function(t,n,e){},14:function(t,n,e){"use strict";e.r(n);var r=e(3),a=e(0),c=e(1),i=e.n(c),u=e(7),s=e.n(u),o=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,15)).then((function(n){var e=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;e(t),r(t),a(t),c(t),i(t)}))},l=e(5),f=i.a.memo((function(t){var n=t.state;return Object(a.jsx)("input",{type:"button",className:n?"alive":"dead"})})),d=i.a.memo((function(t){var n=t.states;return Object(a.jsx)("div",{className:"row",children:n.map((function(t,n){return Object(a.jsx)(f,{state:t},n)}))})})),j=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]];function p(t){return Object(l.a)(Array(t).keys())}function h(t,n){return t<0?n-1:t>=n?0:t}function b(t){var n=t.width,e=t.height,c=i.a.useState(!0),u=Object(r.a)(c,2),s=u[0],o=u[1],f=i.a.useState(function(t,n){var e=p(n).map((function(n){return p(t).map((function(t){return!1}))}));return{step:0,ants:[{x:Math.floor(t/2),y:Math.floor(n/2),dir:6}],field:e}}(n,e)),b=Object(r.a)(f,2),m=b[0],v=b[1],O=i.a.useRef(0),g=i.a.useCallback((function(){v((function(t){var n=t.step,e=t.ants,r=t.field;if(n>11e3)return t;var a=Object(l.a)(r);return{step:n+1,ants:e.map((function(t){var n=t.x,e=t.y,c=t.dir,i=Object(l.a)(a[e]);i[n]=!r[e][n],a[e]=i;var u=r[e][n]?c+2&7:function(t){return t+6&7}(c),s=h(e+j[u][1],r.length);return{x:h(n+j[u][0],r[s].length),y:s,dir:u}})),field:a}}))}),[]);i.a.useEffect((function(){if(!s)return O.current=requestAnimationFrame(g),function(){return cancelAnimationFrame(O.current)}}),[s,m,g]);var x=i.a.useCallback((function(){o((function(t){return!t}))}),[]),y=m.step,w=m.field;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Longton Ant"}),w.map((function(t,n){return Object(a.jsx)(d,{states:t,y:n},n)})),Object(a.jsxs)("p",{className:"step",children:["Step: ",y]}),Object(a.jsx)("input",{className:"ctrl",type:"button",value:s?"Start":"Stop",onClick:x})]})}e(13);var m,v,O=window.location.search.slice(1).split("&").reduce((function(t,n){var e=n.split("="),a=Object(r.a)(e,2),c=a[0],i=a[1];return t[c]=i,t}),{}),g=parseInt(null!==(m=O.width)&&void 0!==m?m:"100"),x=parseInt(null!==(v=O.height)&&void 0!==v?v:"100");s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(b,{width:g,height:x})}),document.getElementById("root")),o()}},[[14,1,2]]]);
//# sourceMappingURL=main.a57fb7e0.chunk.js.map